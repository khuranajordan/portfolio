---
phase: 11-advanced-design-enhancement
plan: 02
type: execute
domain: ui-design
---

<objective>
Implement premium animated backgrounds with mesh gradients and grain textures.

Transform static backgrounds into dynamic, premium backdrops that match Apple's product page aesthetic while maintaining readability and performance.

Purpose: Create visual depth and sophistication through animated backgrounds that enhance the premium feel without distracting from content.

Output: Hero section with animated mesh gradient background, grain texture overlay system, and scroll-reactive background animations.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-advanced-design-enhancement/DESIGN-SYSTEM.md
@.planning/phases/11-advanced-design-enhancement/11-01-SUMMARY.md
@src/index.css
@src/components/hero.tsx

**Tech stack available:**
- Tailwind CSS v4 with new utility classes from 11-01
- Framer Motion for animations
- React + TypeScript
- CSS custom properties for theming

**Established patterns from 11-01:**
- Mesh gradient utility class created
- Grain texture utility class created
- Glassmorphism utility class created
- Enhanced dark mode colors

**Current hero background:**
- Basic linear gradient with simple animation
- Two floating orbs with blur effects
- Static background position animation

**Apple-inspired goals:**
- Multiple layered mesh gradients that shift slowly
- Subtle grain texture for organic feel
- Scroll-reactive background movement
- Performance optimized (60fps animations)
- Maintains text readability
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create animated mesh gradient background component</name>
  <files>src/components/mesh-gradient-background.tsx</files>
  <action>Create a new animated mesh gradient background component:

```tsx
import { motion } from "framer-motion";

export function MeshGradientBackground() {
  return (
    <div className="fixed inset-0 -z-10 overflow-hidden">
      {/* Layer 1 - Primary mesh gradient */}
      <motion.div
        className="absolute inset-0 opacity-60 dark:opacity-40"
        style={{
          background: `
            radial-gradient(at 40% 20%, oklch(0.55 0.12 250 / 0.15) 0px, transparent 50%),
            radial-gradient(at 80% 0%, oklch(0.60 0.10 280 / 0.12) 0px, transparent 50%),
            radial-gradient(at 0% 50%, oklch(0.50 0.15 220 / 0.1) 0px, transparent 50%),
            radial-gradient(at 80% 50%, oklch(0.58 0.08 260 / 0.15) 0px, transparent 50%),
            radial-gradient(at 0% 100%, oklch(0.52 0.14 240 / 0.12) 0px, transparent 50%),
            radial-gradient(at 80% 100%, oklch(0.55 0.11 270 / 0.1) 0px, transparent 50%)
          `
        }}
        animate={{
          backgroundPosition: ["0% 0%", "100% 100%", "0% 0%"],
        }}
        transition={{
          duration: 30,
          repeat: Infinity,
          ease: "linear"
        }}
      />

      {/* Layer 2 - Secondary accent gradients */}
      <motion.div
        className="absolute inset-0 opacity-40 dark:opacity-30"
        style={{
          background: `
            radial-gradient(circle at 15% 50%, oklch(0.62 0.18 200 / 0.08) 0%, transparent 25%),
            radial-gradient(circle at 85% 30%, oklch(0.65 0.16 300 / 0.06) 0%, transparent 25%)
          `
        }}
        animate={{
          scale: [1, 1.1, 1],
          opacity: [0.4, 0.5, 0.4],
        }}
        transition={{
          duration: 20,
          repeat: Infinity,
          ease: "easeInOut"
        }}
      />
    </div>
  );
}
```

Key features:
- Multiple layered radial gradients for depth
- Very slow, smooth animations (20-30s duration)
- Low opacity to maintain readability
- Dark mode opacity adjustments
- Performance optimized (no heavy calculations)

DO NOT:
- Don't use heavy SVG filters or canvas
- Don't create fast/jerky animations
- Don't compromise text readability
- Don't use high saturation colors
</action>
  <verify>Component renders without errors, animations run smoothly at 60fps, background doesn't interfere with text readability</verify>
  <done>Mesh gradient background component created with multiple animated layers, smooth 30s animation cycle, performance optimized</done>
</task>

<task type="auto">
  <name>Task 2: Add grain texture overlay component</name>
  <files>src/components/grain-texture.tsx</files>
  <action>Create a grain texture overlay component for organic feel:

```tsx
export function GrainTexture() {
  return (
    <div
      className="fixed inset-0 -z-5 pointer-events-none opacity-[0.03] dark:opacity-[0.04]"
      style={{
        backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`,
      }}
    />
  );
}
```

Then update src/components/hero.tsx to include both:
```tsx
import { MeshGradientBackground } from "@/components/mesh-gradient-background";
import { GrainTexture } from "@/components/grain-texture";

export function Hero() {
  // ... existing code

  return (
    <section id="hero" className="min-h-screen flex items-center justify-center relative overflow-hidden">
      {/* New premium backgrounds */}
      <MeshGradientBackground />
      <GrainTexture />

      {/* Remove old gradient/orb code */}
      {/* ... rest of component */}
    </section>
  );
}
```

Key features:
- SVG-based noise filter (lightweight)
- Very low opacity (3-4%) for subtlety
- Fixed position to cover entire page
- Pointer events none to not block interactions
- Slightly higher opacity in dark mode

Remove old background code:
- Delete the old animated gradient div
- Delete the floating orbs (motion.div with blur-3xl)
</action>
  <verify>Grain texture visible but subtle, doesn't interfere with text, covers entire viewport, old background code removed</verify>
  <done>Grain texture component created and integrated, old floating orb backgrounds removed, organic feel added</done>
</task>

<task type="auto">
  <name>Task 3: Add scroll-reactive background movement to hero</name>
  <files>src/components/hero.tsx</files>
  <action>Add scroll-reactive parallax effect to mesh gradient:

1. Add scroll listener to hero component:
```tsx
import { useEffect, useState } from "react";
import { motion } from "framer-motion";
import { MeshGradientBackground } from "@/components/mesh-gradient-background";
import { GrainTexture } from "@/components/grain-texture";

export function Hero() {
  const [scrollY, setScrollY] = useState(0);

  useEffect(() => {
    const handleScroll = () => setScrollY(window.scrollY);
    window.addEventListener("scroll", handleScroll, { passive: true });
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);

  // ... existing code

  return (
    <section id="hero" className="min-h-screen flex items-center justify-center relative overflow-hidden">
      <MeshGradientBackground />

      {/* Add scroll-reactive layer */}
      <motion.div
        className="absolute inset-0 -z-10"
        style={{
          background: "radial-gradient(circle at 50% 50%, oklch(0.98 0.01 250 / 0.03) 0%, transparent 50%)",
        }}
        animate={{
          scale: 1 + (scrollY * 0.0001),
          y: scrollY * 0.1,
        }}
        transition={{ type: "spring", stiffness: 100, damping: 30 }}
      />

      <GrainTexture />

      {/* ... rest of component */}
    </section>
  );
}
```

2. Optimize performance with passive listener and spring animation

3. Ensure subtle movement (scrollY * 0.1) - not too dramatic

DO NOT:
- Don't create jarring movements
- Don't use heavy scroll listeners without passive: true
- Don't overdo the parallax effect
</action>
  <verify>Scrolling creates subtle background movement, no performance issues (check Chrome DevTools Performance tab), animation feels premium not distracting</verify>
  <done>Scroll-reactive parallax added, background moves subtly on scroll, passive listener for performance, spring animation for smooth feel</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All new components render without errors
- [ ] Hero section has premium animated background
- [ ] Grain texture is visible but subtle
- [ ] Scroll creates smooth parallax effect
- [ ] Performance is good (60fps, no jank)
- [ ] Text remains readable against new backgrounds
- [ ] Works in both light and dark modes
</verification>

<success_criteria>

- Animated mesh gradient background with 30s cycle
- Grain texture overlay for organic feel
- Scroll-reactive parallax movement
- Performance optimized (passive listeners, smooth animations)
- Text readability maintained
- Old floating orb code removed
</success_criteria>

<output>
After completion, create `.planning/phases/11-advanced-design-enhancement/11-02-SUMMARY.md`:

# Phase 11 Plan 2: Premium Backgrounds Summary

**Implemented premium animated backgrounds with mesh gradients and grain textures, creating sophisticated depth and visual interest.**

## Accomplishments

- Created MeshGradientBackground component with multi-layered animated gradients
- Added grain texture overlay for organic, premium feel
- Implemented scroll-reactive parallax effect
- Removed old floating orb backgrounds
- Optimized for 60fps performance

## Files Created/Modified

- `src/components/mesh-gradient-background.tsx` - New animated mesh gradient component
- `src/components/grain-texture.tsx` - New grain texture overlay
- `src/components/hero.tsx` - Updated with new backgrounds, old code removed

## Decisions Made

- 30-second animation cycle for mesh gradients (subtle, not distracting)
- SVG-based noise filter for grain (lightweight, scalable)
- 3-4% opacity for grain texture (very subtle)
- Scroll parallax with 0.1x multiplier (gentle movement)
- Passive scroll listener for performance

## Next Step

Ready for 11-03-PLAN.md - Bento grid layouts for sections
</output>
