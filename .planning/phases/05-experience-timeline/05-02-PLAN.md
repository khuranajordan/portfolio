---
phase: 05-experience-timeline
plan: 02
type: execute
domain: ui-design
---

<objective>
Implement scroll-triggered animations for timeline entries using Framer Motion.

Purpose: Add dynamic animations that reveal timeline entries as user scrolls, creating engaging visual experience.
Output: Animated timeline with fade-in, slide-up effects triggered by scroll position.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-setup/01-01-SUMMARY.md
@.planning/phases/01-foundation-setup/01-02-SUMMARY.md
@.planning/phases/01-foundation-setup/01-03-SUMMARY.md
@.planning/phases/02-theme-system/02-01-SUMMARY.md
@.planning/phases/02-theme-system/02-02-SUMMARY.md
@.planning/phases/03-layout-structure/03-01-SUMMARY.md
@.planning/phases/03-layout-structure/03-02-SUMMARY.md
@.planning/phases/03-layout-structure/03-03-SUMMARY.md
@.planning/phases/04-hero-section/04-01-SUMMARY.md
@.planning/phases/04-hero-section/04-02-SUMMARY.md
@.planning/phases/04-hero-section/04-03-SUMMARY.md
@.planning/phases/05-experience-timeline/05-01-SUMMARY.md
@src/components/experience-timeline.tsx
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Framer Motion and create animated wrapper</name>
  <files>src/components/experience-timeline.tsx</files>
  <action>
Framer Motion is already installed from Phase 4. Update ExperienceTimeline component to add scroll-triggered animations.

Create a reusable animated wrapper component for timeline entries:

Add to src/components/experience-timeline.tsx before the main component:
```tsx
import { motion } from 'framer-motion';

interface TimelineEntryProps {
  children: React.ReactNode;
  index: number;
  isAlternate: boolean;
}

function TimelineEntry({ children, index, isAlternate }: TimelineEntryProps) {
  return (
    <motion.div
      initial={{ opacity: 0, y: 50 }}
      whileInView={{ opacity: 1, y: 0 }}
      viewport={{ once: true, margin: '-100px' }}
      transition={{
        duration: 0.6,
        delay: index * 0.1,
        ease: 'easeOut'
      }}
      className="relative md:grid md:grid-cols-2 md:gap-8 md:items-start"
    >
      {children}
    </motion.div>
  );
}
```

Then update the timeline entries section to use this wrapper:
Replace the existing map with:
```tsx
{experiences.map((exp, index) => {
  const isFirst = index === 0;
  const isLast = index === experiences.length - 1;
  const isAlternate = index % 2 === 0;

  return (
    <TimelineEntry key={exp.id} index={index} isAlternate={isAlternate}>
      {/* Dot indicator */}
      <div
        className={`absolute left-0 md:left-1/2 w-4 h-4 rounded-full border-4 border-background z-10 transform -translate-x-1/2 ${
          isFirst ? 'bg-primary' : 'bg-background'
        } ${!isLast ? 'top-8 md:top-6' : 'top-8 md:top-6'}`}
      />

      {/* Content */}
      <div
        className={`ml-8 md:ml-0 ${
          isAlternate
            ? 'md:text-right md:pr-8'
            : 'md:col-start-2 md:pl-8'
        }`}
      >
        {/* ... rest of the content remains the same ... */}
```

This adds:
- Fade-in animation (opacity: 0 → 1)
- Slide-up animation (y: 50 → 0)
- Staggered delays (index * 0.1)
- viewport detection with once: true
- margin: '-100px' for early trigger
  </action>
  <verify>
- Timeline entries animate on scroll
- Each entry animates sequentially
- Animations trigger before fully visible
- viewport once works (no re-animation on scroll up)
- Smooth easing (easeOut)
  </verify>
  <done>
Scroll-triggered animations implemented
  </done>
</task>

<task type="auto">
  <name>Task 2: Add timeline line and dot animations</name>
  <files>src/components/experience-timeline.tsx</files>
  <action>
Animate the timeline line growth and dot appearance for enhanced visual effect.

Update src/components/experience-timeline.tsx with enhanced timeline animations:

1. Animate the vertical line:
Replace the timeline line div with:
```tsx
<motion.div
  initial={{ scaleY: 0 }}
  whileInView={{ scaleY: 1 }}
  viewport={{ once: true }}
  transition={{ duration: 1, ease: 'easeInOut' }}
  className="absolute left-0 md:left-1/2 top-0 bottom-0 w-px bg-gradient-to-b from-primary/50 via-border to-border origin-top transform md:-translate-x-px"
/>
```

2. Animate dot indicators:
Update the dot indicator div with:
```tsx
<motion.div
  initial={{ scale: 0 }}
  whileInView={{ scale: 1 }}
  viewport={{ once: true, margin: '-50px' }}
  transition={{
    duration: 0.4,
    delay: index * 0.15,
    type: 'spring',
    stiffness: 300
  }}
  className={`absolute left-0 md:left-1/2 w-4 h-4 rounded-full border-4 border-background z-10 transform -translate-x-1/2 ${
    isFirst ? 'bg-primary' : 'bg-background'
  } ${!isLast ? 'top-8 md:top-6' : 'top-8 md:top-6'}`}
/>
```

3. Animate the role card:
Wrap the role card div with motion.div:
```tsx
<motion.div
  initial={{ opacity: 0, scale: 0.95 }}
  whileInView={{ opacity: 1, scale: 1 }}
  viewport={{ once: true, margin: '-100px' }}
  transition={{
    duration: 0.5,
    delay: index * 0.1 + 0.2
  }}
  className="bg-card border rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow"
>
  {/* ... card content ... */}
</motion.div>
```

Animations added:
- Line grows from top to bottom (scaleY: 0 → 1)
- Dots pop in with spring animation
- Cards scale and fade in
- All staggered by index
- Smooth easing throughout
  </action>
  <verify>
- Timeline line animates downward on scroll
- Dots animate in with spring effect
- Cards have subtle scale animation
- All animations properly staggered
- No layout shift during animations
- Works smoothly at 60fps
  </verify>
  <done>
All timeline animations implemented and polished
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete scroll-triggered animation system for timeline: line growth, dot animations, card reveals, and staggered timing.
  </what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:5173

    Scroll to experience section:
    - Slowly scroll down to experience section
    - Watch timeline line grow from top to bottom
    - Verify line animation is smooth (1s duration)

    Entry animations:
    - Continue scrolling through entries
    - Verify each entry fades in with upward motion
    - Verify animations are staggered (not all at once)
    - Check that dots animate in with spring effect
    - Verify cards scale up smoothly

    Scroll behavior:
    - Scroll back up
    - Verify animations don't replay (viewport once: true)
    - Scroll down again
    - Verify everything stays visible (no re-animation)

    Performance:
    - Check for smooth 60fps animations
    - No lag or stuttering
    - No layout shifts

    Theme test:
    - Toggle to dark mode
    - Verify all animations still work
    - Check colors adapt correctly
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Framer Motion animations working
- [ ] Scroll triggers functional
- [ ] Line growth animation smooth
- [ ] Dot animations working
- [ ] Card animations polished
- [ ] Performance acceptable
</verification>

<success_criteria>
- All tasks completed
- Scroll animations engaging
- No performance issues
- Staggered timing correct
- Ready for role details expansion
</success_criteria>

<output>
After completion, create `.planning/phases/05-experience-timeline/05-02-SUMMARY.md`:

# Phase 5 Plan 2: Implement Scroll Animations Summary

**Timeline enhanced with Framer Motion scroll-triggered animations: line growth, dot reveals, and card fade-ins**

## Accomplishments
- Animated timeline line (scaleY from top)
- Spring-animated dot indicators
- Fade and scale animations for cards
- Properly staggered timing
- viewport once: true (no re-animation)
- Early trigger margins (-100px)
- Smooth 60fps performance

## Files Created/Modified
- `src/components/experience-timeline.tsx` - All animations implemented

## Decisions Made
- Line growth from top (timeline metaphor)
- Spring animation for dots (playful feel)
- Stagger delays (0.1-0.15s)
- Early trigger (-100px margin)
- viewport once (don't replay)
- Scale on cards (subtle depth)
- EaseOut easing (natural feel)

## Deviations from Plan
None - plan executed as specified.

## Issues Encountered
None

## Next Step
Ready for 05-03-PLAN.md (Add role details and achievements)
</output>
